<div class="main">
    <div class="items">
        <div class="title">Comanda desglossada:</div>
        <div class="receipt">
            <table>
                <thead>
                    <tr>
                        <th>Producte</th>
                        <th>Quantitat</th>
                        <th>Color / Talla</th>
                        <th>Preu</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="4" class="separator"></td>
                    </tr>
                    @for (item of cartDto.cart.items; track $index) {
                    <tr>
                        <td>
                            {{item.title}}
                        </td>
                        <td>
                            {{ item.quantity}}
                        </td>
                        <td>
                            <div class="color-size">
                                @if (item.selectedColor) {
                                <div class="col-color">
                                    <div class="item-color" [style.background]="item.selectedColor">
                                    </div>
                                </div>
                                }
                                {{item.selectedSize}}
                            </div>
                        </td>
                        <td>
                            {{ DracStringUtils.formatPrice(item.price) }}
                        </td>
                    </tr>
                    }
                    <tr>
                        <td colspan="4" class="separator"></td>
                    </tr>
                    <tr>
                        <td>Subtotal:</td>
                        <td>
                        </td>
                        <td></td>
                        <td> {{ DracStringUtils.formatPrice(cartDto.cart.subtotal) }}</td>
                    </tr>
                    <tr>
                        <td>
                            Enviament:
                        </td>
                        <td></td>
                        <td></td>
                        <td> {{ DracStringUtils.formatPrice(cartDto.cart.shipment) }}</td>
                    </tr>
                    <tr>
                        <td colspan="4" class="separator dashed"></td>
                    </tr>
                    <tr>
                        <td>Preu total:</td>
                        <td></td>
                        <td></td>
                        <td> {{ DracStringUtils.formatPrice(cartDto.cart.totalNoVat) }}</td>
                    </tr>

                    <tr>
                        <td class="bold">Preu total (IVA 21%):</td>
                        <td></td>
                        <td></td>
                        <td class="bold"> {{ DracStringUtils.formatPrice(cartDto.cart.total) }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="info">
        <div class="disclaimer">Lorem ipsum dolor sit amet consectetur adipisicing elit. Inventore tempore quisquam
            omnis dolorum nostrum, distinctio est debitis pariatur quaerat maiores, rerum architecto, commodi dolorem
            ducimus fuga magnam corporis expedita sapiente. Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Inventore tempore quisquam
            omnis dolorum nostrum, distinctio est debitis pariatur quaerat maiores, rerum architecto, commodi dolorem
            ducimus fuga magnam corporis expedita sapiente.</div>
        <!-- <div class="title">Fes el pagament:</div> -->
        <!-- <div class="payment-opts">
            <div class="payment-opt">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M2 10H22M4 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H4C2.89543 19 2 18.1046 2 17V7C2 5.89543 2.89543 5 4 5Z"
                        stroke="#C8C8C8" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Tarjeta
            </div>
            <div class="payment-opt">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M2 10H22M4 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H4C2.89543 19 2 18.1046 2 17V7C2 5.89543 2.89543 5 4 5Z"
                        stroke="#C8C8C8" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                PayPal
            </div>
        </div> -->
        <div class="pay-button-container">
            <div class="card-button-container">
                <button pButton (click)="requestPayment()">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#FFFFFF">
                        <path
                            d="M200-280v-280h80v280h-80Zm240 0v-280h80v280h-80ZM80-640v-80l400-200 400 200v80H80Zm179-80h442L480-830 259-720ZM80-120v-80h482q2 21 5 40.5t9 39.5H80Zm600-310v-130h80v90l-80 40ZM800 0q-69-17-114.5-79.5T640-218v-102l160-80 160 80v102q0 76-45.5 138.5T800 0Zm-29-120 139-138-42-42-97 95-39-39-42 43 81 81ZM259-720h442-442Z" />
                    </svg> <span pButtonLabel>Paga amb Targeta</span>
                </button>
            </div>
            <div class="request-container">
                <div #paymentRequest></div>
            </div>
        </div>

    </div>

</div>